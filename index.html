<!doctype html>
<html>
  <head>
    <title>SAL Interpreter</title>
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Roboto Mono', monospace;
        }
        html, body {
            margin: 0;
            padding: 0;
            background-color: black;
            color: white;
            width: 100%;
            height: 100%;
            --blue: #03d3fc;
        }

        h1 {
          height: 50px;
          line-height: 50px;
          text-align: center;
        }

        div.editor {
            display: flex;
            flex-direction: row;
            gap: 5px;
            width: calc(100% - 40px);
            height: calc(100% - 110px);
            margin: 20px;
            position: relative;
        }

        div#code {
            width: 50%;
            height: 100%;
            border-radius: 10px;
            padding: 10px;
            margin: 0;
            outline: none;
            border: none;
            resize: none;
            color: white;
            background-color: #241800;
            font-size: 15pt;
            z-index: 1000;
        }

        div#slider {
          position: relative;
          width: 10px;
          border-radius: 5px;
          cursor: ew-resize;
        }

        div#slider-decor {
          position: absolute;
          top: 50%;
          left: 25%;
          width: 50%;
          height: 100px;
          transform: translateY(-50%);
          background-color: #ffffff88;
          border-radius: 9999px;
        }

        div#slider:hover>div {
          background-color: var(--blue);
        }

        div#output {
            width: 50%;
            height: 100%;
            border-radius: 10px;
            padding: 10px;
            margin: 0;
            outline: none;
            border: none;
            resize: none;
            color: white;
            background-color: #241800;
            font-size: 15pt;
            z-index: 1000;
        }

        .tx-bl {
          display: inline-block;
          color: var(--blue);
        }
    </style>
  </head>
  <body>
    <h1 id="title">SAL Interpreter</h1>
    <div class="editor">
      <div id="code" placeholder="Enter some code here" type="textarea" contenteditable>Hello there</div>
      <div id="slider">
        <div id="slider-decor"></div>
      </div>
      <div id="output">Output here</div>
    </div>
    <script>

      document.getElementById("code").addEventListener("input", (e) => {
        let text = document.getElementById("code").innerText;
        text = text.split('').map(function(l) {
          if (l === "e") {
            return `<span class="tx-bl">e</span>`;
          } else {
            return l
          }
        }).join('')
        //let range = document.createRange();
        document.getElementById("code").innerHTML = text;
        //range.setStart(document.getElementById("code"), 1);
      }, 50)

      document.getElementById("code").addEventListener("keyup", (e) => {
        let el = document.getElementById("code");
        var val = el.value;
        document.getElementById("title").innerHTML = (val.slice(0, el.selectionStart).length);
      })
    </script>
  </body>
</html>